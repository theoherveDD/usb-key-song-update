# ðŸŽ¨ AperÃ§u de l'Interface OAuth 2.0

## Page de Connexion (`/connect`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ”Œ Connect Services                                         â”‚
â”‚  Link your music streaming accounts with one click           â”‚
â”‚  Dashboard | ðŸ”Œ Connect | âš™ï¸ Settings                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… Success! Spotify connected successfully!                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Streaming Services                                          â”‚
â”‚  Connect your favorite streaming services to automatically   â”‚
â”‚  sync your liked tracks                                      â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ðŸŸ¢                  âœ“ Connected                       â”‚ â”‚
â”‚  â”‚  [Spotify Logo]                                        â”‚ â”‚
â”‚  â”‚  Spotify            [Disconnect]                       â”‚ â”‚
â”‚  â”‚  Sync your liked                                       â”‚ â”‚
â”‚  â”‚  tracks and playlists                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  âš«                  âœ— Not Connected                   â”‚ â”‚
â”‚  â”‚  [Tidal Logo]                                          â”‚ â”‚
â”‚  â”‚  Tidal              [Coming Soon]                      â”‚ â”‚
â”‚  â”‚  Sync your favorite                                    â”‚ â”‚
â”‚  â”‚  tracks (Coming Soon)                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ðŸŸ                                                      â”‚ â”‚
â”‚  â”‚  [SoundCloud Logo]                                     â”‚ â”‚
â”‚  â”‚  SoundCloud         [Go to Settings]                   â”‚ â”‚
â”‚  â”‚  Configure via                                         â”‚ â”‚
â”‚  â”‚  Settings page                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â„¹ï¸ How it works                                             â”‚
â”‚                                                              â”‚
â”‚  1. Click "Connect" on any service above                    â”‚
â”‚  2. Authorize the app in the popup window                   â”‚
â”‚  3. Done! Your liked tracks will be automatically synced    â”‚
â”‚                                                              â”‚
â”‚  ðŸ”’ Your credentials are stored securely and never shared   â”‚
â”‚     with third parties.                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Flux Utilisateur

### 1ï¸âƒ£ Configuration Initiale (une seule fois)

```
User                    Browser                 Server              Spotify
 â”‚                        â”‚                       â”‚                   â”‚
 â”‚   1. Opens Settings    â”‚                       â”‚                   â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚                   â”‚
 â”‚                        â”‚                       â”‚                   â”‚
 â”‚   2. Enters Client ID  â”‚                       â”‚                   â”‚
 â”‚      & Client Secret   â”‚                       â”‚                   â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚                   â”‚
 â”‚                        â”‚                       â”‚                   â”‚
 â”‚                        â”‚   3. POST /api/config â”‚                   â”‚
 â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚
 â”‚                        â”‚                       â”‚                   â”‚
 â”‚                        â”‚   4. Config Saved âœ…   â”‚                   â”‚
 â”‚                        â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
 â”‚                        â”‚                       â”‚                   â”‚
```

### 2ï¸âƒ£ Connexion (un clic !)

```
User                    Browser                 Server              Spotify
 â”‚                        â”‚                       â”‚                   â”‚
 â”‚   1. Opens /connect    â”‚                       â”‚                   â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚                   â”‚
 â”‚                        â”‚                       â”‚                   â”‚
 â”‚   2. Clicks            â”‚                       â”‚                   â”‚
 â”‚      "Connect Spotify" â”‚                       â”‚                   â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚                   â”‚
 â”‚                        â”‚                       â”‚                   â”‚
 â”‚                        â”‚ 3. GET /api/spotify/  â”‚                   â”‚
 â”‚                        â”‚        auth           â”‚                   â”‚
 â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚
 â”‚                        â”‚                       â”‚                   â”‚
 â”‚                        â”‚ 4. Returns authUrl    â”‚                   â”‚
 â”‚                        â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
 â”‚                        â”‚                       â”‚                   â”‚
 â”‚   5. Redirect to       â”‚                       â”‚                   â”‚
 â”‚      Spotify OAuth     â”‚                       â”‚                   â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
 â”‚                        â”‚                       â”‚                   â”‚
 â”‚   6. User authorizes   â”‚                       â”‚                   â”‚
 â”‚      the app           â”‚                       â”‚                   â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
 â”‚                        â”‚                       â”‚                   â”‚
 â”‚                        â”‚                       â”‚  7. Callback with â”‚
 â”‚                        â”‚                       â”‚     auth code     â”‚
 â”‚                        â”‚                       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚                        â”‚                       â”‚                   â”‚
 â”‚                        â”‚                       â”‚  8. Exchange code â”‚
 â”‚                        â”‚                       â”‚     for tokens    â”‚
 â”‚                        â”‚                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
 â”‚                        â”‚                       â”‚                   â”‚
 â”‚                        â”‚                       â”‚  9. Return tokens â”‚
 â”‚                        â”‚                       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚                        â”‚                       â”‚                   â”‚
 â”‚                        â”‚                       â”‚ 10. Save refresh  â”‚
 â”‚                        â”‚                       â”‚     token to DB   â”‚
 â”‚                        â”‚                       â”‚                   â”‚
 â”‚   11. Redirect to      â”‚                       â”‚                   â”‚
 â”‚       /connect?        â”‚                       â”‚                   â”‚
 â”‚       success=true âœ…   â”‚                       â”‚                   â”‚
 â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
 â”‚                        â”‚                       â”‚                   â”‚
```

### 3ï¸âƒ£ Usage (automatique)

```
Daemon                  Server                 Spotify
 â”‚                        â”‚                      â”‚
 â”‚ 1. Periodic check      â”‚                      â”‚
 â”‚    (every 30 min)      â”‚                      â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚
 â”‚                        â”‚                      â”‚
 â”‚                        â”‚ 2. Get access token  â”‚
 â”‚                        â”‚    (refresh if exp.) â”‚
 â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
 â”‚                        â”‚                      â”‚
 â”‚                        â”‚ 3. Return token      â”‚
 â”‚                        â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚                        â”‚                      â”‚
 â”‚                        â”‚ 4. GET /v1/me/tracks â”‚
 â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
 â”‚                        â”‚                      â”‚
 â”‚                        â”‚ 5. Return tracks     â”‚
 â”‚                        â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚                        â”‚                      â”‚
 â”‚ 6. Download new tracks â”‚                      â”‚
 â”‚    to hard drive       â”‚                      â”‚
 â”‚                        â”‚                      â”‚
```

## Comparaison Avant/AprÃ¨s

### âŒ Ancienne MÃ©thode (manuelle)

1. Ouvrir terminal
2. Copier une URL complexe avec Client ID
3. Coller dans navigateur
4. Copier le code d'autorisation
5. CrÃ©er une commande curl avec les credentials en Base64
6. ExÃ©cuter la commande
7. Copier le refresh token
8. L'ajouter dans .env
9. RedÃ©marrer le serveur

**Temps estimÃ©** : 10-15 minutes  
**DifficultÃ©** : â­â­â­â­ (4/5)  
**Erreurs frÃ©quentes** : Oui (URL encode, Base64, typos)

### âœ… Nouvelle MÃ©thode (OAuth 2.0)

1. Ajouter Client ID & Secret dans Settings
2. Cliquer "Connect Spotify"
3. Autoriser dans la popup

**Temps estimÃ©** : 30 secondes  
**DifficultÃ©** : â­ (1/5)  
**Erreurs frÃ©quentes** : Non

## Avantages Techniques

| FonctionnalitÃ© | Ancienne | Nouvelle |
|----------------|----------|----------|
| Setup manuel | âœ… | âŒ |
| RÃ©vocation facile | âŒ | âœ… |
| Gestion auto tokens | âŒ | âœ… |
| Interface visuelle | âŒ | âœ… |
| Status en temps rÃ©el | âŒ | âœ… |
| Multi-service | âŒ | âœ… |
| Erreurs claires | âŒ | âœ… |

## Interface ComplÃ¨te

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Navigation Bar                            â”‚
â”‚  [Dashboard] [ðŸ”Œ Connect] [âš™ï¸ Settings]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                  â”‚                  â”‚
        â–¼                  â–¼                  â–¼
   [Dashboard]        [Connect]         [Settings]
        â”‚                  â”‚                  â”‚
        â”‚                  â”‚                  â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Drives â”‚        â”‚ Spotify â”‚       â”‚  Paths   â”‚
   â”‚ Stats  â”‚        â”‚  Tidal  â”‚       â”‚  Creds   â”‚
   â”‚Actions â”‚        â”‚SndCloud â”‚       â”‚ Options  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
